## 奇点临近+黑客+大教堂与集市（一套预测人工智能和科技未来的奇书！）

 **（美）Ray Kurzweil、（美）Steven Levy 、（美）雷蒙德**


### 大教堂与集市

* 他教导我：要尊重能力，要珍视和捍卫自由，特别是：昆虫才讲究技能专一。


### 1.黑客圈

* 如何将操作系统的复杂性隐藏在系统内部，不仅让用户看不到，甚至让大多数程序员都看不到。它使得人们可以更简单地使用Multics（以及为它编程！），可以更多去做那些真正有价值的工作。

* 由于一些UNIX站点运行在ARPAnet上，PDP-10文化和UNIX/Usenet文化开始在各自的边缘交汇，但它们并不能和谐相处，PDP-10的黑客们倾向于把UNIX团体看成是一群暴发户，与LISP和ITS具有巴洛克式令人着迷的复杂性相比，UNIX使用的工具看上去原始得可笑，“就像拿着石刀和穿着兽皮！”他们嘟囔道。

* 除此之外，另外一股势力也开始成长，第一台个人电脑在1975年开始进入市场，苹果公司于1977年成立，技术变革在随后几年以令人难以想象的速度发展，微型计算机的发展势头越来越清晰，并吸引着新一代聪明的年轻人，他们的语言是BASIC，这种语言是如此简陋，以至于PDP-10信徒和UNIX爱好者都认为这简直不值得去蔑视。

* ITS和UNIX之间仍然会时不时爆发一些派系之争，且大多数情况下都是ITS一方挑起的。但随着1990年最后一台ITS机器的关机停用，狂热分子们也不得不放下立场，伴随着不同程度的抱怨，他们大多融入了UNIX文化。


### 2.大教堂与集市

* 绝大多数商业公司所采用的“大教堂”模式和Linux世界采用的“集市”模式。两种模式的根本不同点在于他们对软件排错有着完全对立的认识。

* Linux推翻了很多我以为我懂的东西，多年以来，我一直在宣扬“小工具”、“快速原型法”以及“演化式编程”等UNIX信条。但我也相信，如果超过了一定的复杂度，更集中式的管理和更严格的流程是有必要的。我相信大多数重要软件（操作系统和真正大型工具如Emacs编辑器）需要像建造大教堂那样，在与世隔绝的环境下，由天才式专家或几个行家里手精心打造，不成熟时绝不发布beta测试版。

* 1.好的软件作品，往往源自于开发者的个人需要。

* 2.优秀的程序员知道写什么，卓越的程序员知道改写（和重用）什么。

* 以Linus Torvalds为例，他并没有尝试从零开始写Linux，而是以重用Minix（一个用于PC机的迷你型UNIX类操作系统）的代码和理念作为开始，虽然Linux中所有Minix代码最终都被移除或重写，但它在Linux成长初期确实起到了类似脚手架的作用。

* 3.“计划好扔掉一个吧，迟早你会这么做的。”（Fred Brooks，《人月神话》第11章）

* 4.如果你有正确的态度，有趣的事情自然会找到你。

* 5.当你对一个程序不再感兴趣时，你最后的责任就是把它交给一个可以胜任的接棒者。

* 6.把你的用户当成开发合作者对待，如果想让代码质量快速提升并有效排错，这是最省心的途径。

* 我想，Linus最聪明和最有价值的成就其实不是构建出一个Linux内核，而是他发明的这种Linux开发模式。有一次我当面向他表达了这个看法，他笑了，平静地重复了他常说的话：“我基本上是个很懒的人，别人做事，我得名誉。”像狐狸那样懒，或者像Robert Heinlein曾经描绘的一个很有名的角色，太懒以至于无所不能。

* 不只是Emacs，还有其他一些软件产品也使用了两层架构和两级用户群，内核使用大教堂模式开发，工具箱(toolbox)使用集市模式开发，比如数据分析和可视化展现的商业化工具MATLAB就是这样，MATLAB和其他类似产品的用户们发现，创新、酝酿和行动最频繁发生的地方总是在产品的开放部分，而这部分的改进也总是由庞大而多样化的用户群完成。

* 7.早发布，常发布，倾听用户的反馈。

* Linus无疑是一个顶级黑客，想想有多少人能从零开始建造一个完整的具有产品级质量的操作系统内核？但Linux并没有展现出多少令人赞叹的概念性突破。和Richard Stallman或者James Gosling（NeWS和Java的作者）相比，Linus不是（至少现在还不是）一个富有创造性的设计天才，他更像是一个工程实施上的天才，他具备一种避免bug和防范开发走入死胡同的第六感，而且有一种能发现从A点到B点最省力路径的真本事，事实上，Linux的整个设计，都透露着这种特质，并反映了Linus那种本质上保守而简洁的设计取向。

* 8.如果有足够多的beta测试者 [1]和合作开发者，几乎所有问题都会很快显现，然后自然有人会把它解决。

* 为防范严重bug给用户带来的影响，Linus有这么一招：在Linux内核版本号上加以标识（可以从版本号看出系统是否稳定——译者注），潜在用户要么选择上一个被标识为“稳定”的版本，要么冒着有bug的风险使用最新版本以获取新特性。这种策略还没有被Linux黑客们系统性地加以模仿，也许他们以后会这样做。事实上，给用户以选择使得两种版本都更具吸引力。 5

* 理解这个问题的关键在于要弄清楚这个现象：如果报告bug的用户对源码不关心，则其报告通常不会很有用。对源码不关心的用户，往往报告的都是表面症状，他们把自己的运行环境当成是理所当然的，他们不仅省略了重要的背景数据，而且很少给出重现bug的可靠方法。

* 对于复杂的多症状错误，要想从表面症状追踪到实际bug，往往有多种路径，开发者或测试者追踪时经由何种途径，取决于千差万别的个人运行环境，并且该环境会随时间产生不确定的变化。实际上，每个开发者和测试者在寻找病状症结的时候，都是在“半随机”（semi-random）的变量集合上对程序状态空间进行采样。越是隐蔽和复杂的bug，就越难从技能上保证采样的对症性。

* 9.聪明的数据结构配上愚笨的代码，远比反过来要好得多。

* 10.如果你把beta测试者当做最珍贵的资源对待，他们就会成为你最珍贵的资源。

* 11.仅次于拥有好主意的是，识别来自用户的好主意，有时后者会更好。

* 12.通常，那些最有突破性和最有创新力的解决方案来自于你认识到你对问题的基本观念是错的。

* 当你发现自己在开发中碰壁时，当你发现自己苦思冥想也很难做出下一个补丁时，通常你不该问自己是否找到了正确答案，而是该问你是否提出了正确的问题，因为也许问题本身需要被重新定义。

* 13.“设计上的完美不是没有东西可以再加，而是没有东西可以再减。”

* 即便是高层次的设计，如果能有很多合作开发者在你产品的设计空间周围探索，也是很有价值的。设想下一滩雨水是怎么找到下水口的，或者说蚂蚁是怎么发现食物的。探索在本质上是分散行动，并通过一种可扩展的通信机制来协调整体行为。这很有效，就像Harry Hochheiser和我，一个外围的游走者可能会在你旁边发现宝藏，而你可能有点过于专注而没能发现。

* 14.任何工具都应具备预期内的功能，但一个伟大的工具能给你带来预期外的功能。

* 15.写网关类软件时，尽可能不要干扰数据流，而且绝不要扔掉信息，除非接收方强迫你这么做。

* 16.当你的语言还远不是图灵完备（Turing-complete）的时候，语法糖[4]会让你受益良多。

* 17.系统的安全性只取决于它所拥有的秘密。谨防虚假的秘密。

* 显然，你不可能从零开始实施集市模式 8。可以用集市模式测试、排错和完善项目，但以集市模式从零开始一个项目是非常困难的。Linus没有这么试过，我也没有。开发者社区从成立伊始，就需要一个可以运行和测试的东西。

* 当然，一定水准的设计和编码能力还是需要的。但我认为，如果一个人真的想要启动一个集市项目，那么他的能力应该已在最低水准以上。开源社区内在的声誉评价机制会给人们施加微妙的压力，使那些不能胜任项目发展的人，不会去发起一个开发项目。至少到目前为止，这个机制非常有效。

* 18.想要解决一个有趣的问题，先去找一个让你感兴趣的问题。

* 作为一种后见之明，Gerald Weinberg在经典之作《程序开发心理学》（The Psychology of Computer Programming）中提出了对Brooks定律的重要修正。在他关于“无私编程”（egoless programming）的讨论中，Weinberg观察到，在某些工作场所，开发人员不将代码看作是自己的“领土”，而是鼓励别人发现其中的bug和潜在改进点，这些场所中软件改善速度之快，与别处相比是不可同日而语的。（最近，Kent Beck在其“极限编程”（extreme programming）技术中提出的结对编程——两个程序员肩并肩共同完成编程——可以看作是一种效仿。）


* 在任何错误都会立刻导致严重后果时，我开始感悟到按“命令与纪律原则”行事和按“共识原则”行事之间的重要区别。前者在军队检阅时的作用令人钦佩，但在真实生活中却一文不值，想要达到目标，必须要靠众人的齐心协力。

* 前面我提到的“德尔菲效应”也许可以解释Linus定律。但我常常注意到，生物学和经济学中的自适应系统是更好的类比，Linux世界的运转，在很多方面像一个自由市场，或者像一个由很多利己个体组成的生态系统，系统中每个个体都追求自身效用的最大化，在其共生的过程中，能够自然建立起一种具备自我纠错能力的秩序，这种秩序比任何集中式规划都要精妙和高效。这里，正是“共识原则”达成的地方。
Linux黑客们致力于最大化的“效用函数”，其目的并不是经典意义上的经济价值，而是自我满足和黑客声望这些无形的东西。（有人把这种动机称为“利他”，但他们忽视了一个事实，即“利他”本身是“利他者”自我满足的外在表现。）按这种方式运转的志愿者文化其实很常见，除了黑客圈，我还长期参与在科幻迷圈子中，不像黑客，科幻迷们早就清楚认识到“egoboo” [5]（个人在团体中声望的提升）是志愿者活动背后的基本驱动力。

* 19.如果开发协调者有一个至少像Internet这样好的沟通媒介，并且知道如何不靠强制来领导，那么多人合作必然强于单兵作战。

* 一些人认为购买传统模式产品会带来这样的保障：如果项目出错，有人会负责，并为可能的损失买单。但这只是一个幻觉，大多数软件许可证连对商品的保证都没有，更不用说履行责任了——因软件质量差而成功获得赔偿的案例几乎没有。即便很常见，也不要因为可以起诉某人就觉得心安，你想要的不是官司，而是能用的软件。

* 朋友告诉我，很多资源调配基本上是防守性的；一旦你拥有人、机器和办公空间，你就不得不防备同级管理人员对资源的竞争，以及上级对有限资源中最有效部分的调用。

* 无论如何，在一个廉价PC和快速Internet连接的世界里，我们发现始终如一真正有限的资源是技术人员的关注，开源项目如果失败了，根本不会是因为机器、网络或办公场地，它们死掉的唯一原因就是开发者们不再感兴趣了。

* 传统开发管理是对缺乏激励的程序员们的必要补充，否则他们不会干得很好。

* 所以，我们对传统软件开发管理者的答复就很简单了——如果开源社区真的低估了传统管理的价值，那为什么你们中的这么多人都表现出对你们自己流程的不屑？

* 更进一步，我想给出一个更普遍的关于软件的经验（可能适用于所有创造性或专业性工作），人类通常会从一种位于“最佳挑战区”的任务中获得乐趣，也即它不是太容易而让人无聊，也不是太困难而无法完成。一个快乐的程序员是一个既没有被浪费也没有被压垮（由于不适当的目标或过程中充满压力与冲突）的人，乐趣预示着效率。

* 现在看来，开源成功的一个最重要成果，就是告诉我们，“玩”是创造性活动中最具经济效能的工作模式。

* beta测试即“β测试”，和“α测试”相对应。对于一个即将面世的软件产品，α测试是指软件公司组织内部测试人员模拟各类用户行为对产品(此时为α版本)进行测试。随后的β测试是指软件公司组织各类典型用户在日常工作中实际使用（此时产品为β版本），并要求用户报告错误及异常情况。最后软件公司再对β版本进行改错和完善。——译者注

* 语法糖（Syntactic Sugar，或译为语法糖衣）是英国计算机科学家Peter J.Landin发明的术语，是指为计算机语言添加某种不会影响语言功能的成分，但却使其更易用一些，目的是增强代码可读性，避免出错的机会。——译者注

* 第一次世界大战后，为防范德军入侵，法国陆军部长马其诺提议沿法国和德国边境建设一条叫做马其诺防线的防御工事（1929年开始建造，1940年基本建成，长达390公里）。马其诺防线曾被认为是牢不可破的，但德军从侧面包抄并随后占领了这条防线。马其诺防线用来形容表面看似坚固而实际没有价值的东西。——译者注

* 呆伯特（Dilbert）是美国作家和漫画家Scott Adams创造的广为流行的职场卡通人物。他是一名计算机工程师，热爱科技、待人友善、憨厚老实，但很不成功，在公司里人微言轻，常常被主管过分要求和利用。——译者注


### 3.开垦心智层

* 文化是有适应能力的机器，开源文化会对一系列可识别的动力和压力做出反应。通常，文化对其所处环境的适应，既反映了其自觉的意识形态，也反映了其隐藏的、无意识或潜意识的认识。而无意识调适和其意识形态的不一致，是很常见的现象。


* 直到1993至1994年，由于Linux的爆发，实用派才找到一个真正有力的基础，尽管Linus Torvalds从来没有反对过RMS，但他树立了一个友好对待商业Linux成长的榜样，他公开支持在特殊用途上使用高质量的商业软件，并对黑客文化中的纯粹派和狂热人士予以适度的调侃。

* 这种演进上的分化称为“分支”(fork)，分支最重要的特点是它派生出一个随后不能交换代码的竞争项目，并导致开发社区潜在的分裂。（有的情况看上去像分支但其实不是，如Linux存在的多种发布版本。这种伪分支可能会导致不同的项目，但是它们使用的代码几乎相同，并且可以互相受益于对方开发的所有成果，它们在技术上和社会学上都不是浪费，也不会让人感觉到是“分支”。）

* 事实上，和“任何人能干任何事”共识相矛盾的是，开源文化有一套严格的但主要是“不允许”类型的所有权惯例。
这些惯例决定了谁能修改软件、在什么情况下可以修改，以及（特别是）谁有权利向社区发布修改后的版本。

* 在资产可以被无限复制和轻易改变，且其环境文化既不是强制权力关系也不是物质稀缺经济的情况下，“所有权”该如何理解呢？
实际上，开源文化对这个问题有着简单的回答：一个软件项目的“所有者”就是在社区中众所周知的对软件版本改动有唯一发布权的那个人。

* 我观察开源软件中这些习惯做法已经有20年了（可回溯至前FSF的古老年代），这些习惯有一些非常有意思的特点，其中最有意思的是，绝大多数黑客在并不了解习惯做法的情况下就知道去这样做。事实上，本文大概是第一次有意识和比较完整地总结了这些做法。
另一个有意思的特点是，他们对这种习惯做法的遵循，表现出非凡的（甚至是让人震惊的）一致性。我注意过足有数百个开源项目，不管是亲眼看到的还是听说的，严重违反传统的事情屈指可数。

